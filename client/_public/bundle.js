!function(){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var n,r={},o={exports:{}};var i,a,s={};function u(){if(a)return i;a=1;var t=function(e){return e&&e.Math===Math&&e};return i=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof e&&e)||t("object"==typeof i&&i)||function(){return this}()||Function("return this")()}var c,l,d,f,h,p,m,g,y={};function v(){return l?c:(l=1,c=function(e){try{return!!e()}catch(e){return!0}})}function b(){if(f)return d;f=1;var e=v();return d=!e(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})}function w(){if(p)return h;p=1;var e=v();return h=!e(function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})}function _(){if(g)return m;g=1;var e=w(),t=Function.prototype.call;return m=e?t.bind(t):function(){return t.apply(t,arguments)},m}var S,k,E,T,O,x,q,A,L,j,P,C,D,$,I,R,N,B,U,F,H,G,M,J,z,K,W,Y,V,X,Z,Q,ee,te,ne,re,oe,ie,ae,se,ue,ce={};function le(){return E?k:(E=1,k=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}})}function de(){if(O)return T;O=1;var e=w(),t=Function.prototype,n=t.call,r=e&&t.bind.bind(n,n);return T=e?r:function(e){return function(){return n.apply(e,arguments)}},T}function fe(){if(q)return x;q=1;var e=de(),t=e({}.toString),n=e("".slice);return x=function(e){return n(t(e),8,-1)}}function he(){return P?j:(P=1,j=function(e){return null==e})}function pe(){if(D)return C;D=1;var e=he(),t=TypeError;return C=function(n){if(e(n))throw new t("Can't call method on "+n);return n}}function me(){if(I)return $;I=1;var e=function(){if(L)return A;L=1;var e=de(),t=v(),n=fe(),r=Object,o=e("".split);return A=t(function(){return!r("z").propertyIsEnumerable(0)})?function(e){return"String"===n(e)?o(e,""):r(e)}:r}(),t=pe();return $=function(n){return e(t(n))}}function ge(){if(N)return R;N=1;var e="object"==typeof document&&document.all;return R=void 0===e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(e){return"function"==typeof e}}function ye(){if(U)return B;U=1;var e=ge();return B=function(t){return"object"==typeof t?null!==t:e(t)}}function ve(){if(H)return F;H=1;var e=u(),t=ge();return F=function(n,r){return arguments.length<2?(o=e[n],t(o)?o:void 0):e[n]&&e[n][r];var o},F}function be(){if(M)return G;M=1;var e=de();return G=e({}.isPrototypeOf)}function we(){if(W)return K;W=1;var e,t,n=u(),r=function(){if(z)return J;z=1;var e=u().navigator,t=e&&e.userAgent;return J=t?String(t):""}(),o=n.process,i=n.Deno,a=o&&o.versions||i&&i.version,s=a&&a.v8;return s&&(t=(e=s.split("."))[0]>0&&e[0]<4?1:+(e[0]+e[1])),!t&&r&&(!(e=r.match(/Edge\/(\d+)/))||e[1]>=74)&&(e=r.match(/Chrome\/(\d+)/))&&(t=+e[1]),K=t}function _e(){if(V)return Y;V=1;var e=we(),t=v(),n=u().String;return Y=!!Object.getOwnPropertySymbols&&!t(function(){var t=Symbol("symbol detection");return!n(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&e&&e<41})}function Se(){if(Z)return X;Z=1;var e=_e();return X=e&&!Symbol.sham&&"symbol"==typeof Symbol.iterator}function ke(){if(ee)return Q;ee=1;var e=ve(),t=ge(),n=be(),r=Se(),o=Object;return Q=r?function(e){return"symbol"==typeof e}:function(r){var i=e("Symbol");return t(i)&&n(i.prototype,o(r))}}function Ee(){if(ne)return te;ne=1;var e=String;return te=function(t){try{return e(t)}catch(e){return"Object"}}}function Te(){if(oe)return re;oe=1;var e=ge(),t=Ee(),n=TypeError;return re=function(r){if(e(r))return r;throw new n(t(r)+" is not a function")}}function Oe(){if(ae)return ie;ae=1;var e=Te(),t=he();return ie=function(n,r){var o=n[r];return t(o)?void 0:e(o)}}var xe,qe,Ae,Le,je,Pe,Ce,De,$e,Ie,Re,Ne,Be,Ue,Fe,He,Ge,Me,Je,ze,Ke,We,Ye,Ve,Xe={exports:{}};function Ze(){return qe?xe:(qe=1,xe=!1)}function Qe(){if(Le)return Ae;Le=1;var e=u(),t=Object.defineProperty;return Ae=function(n,r){try{t(e,n,{value:r,configurable:!0,writable:!0})}catch(t){e[n]=r}return r}}function et(){if(je)return Xe.exports;je=1;var e=Ze(),t=u(),n=Qe(),r="__core-js_shared__",o=Xe.exports=t[r]||n(r,{});return(o.versions||(o.versions=[])).push({version:"3.47.0",mode:e?"pure":"global",copyright:"Â© 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)",license:"https://github.com/zloirock/core-js/blob/v3.47.0/LICENSE",source:"https://github.com/zloirock/core-js"}),Xe.exports}function tt(){if(Ce)return Pe;Ce=1;var e=et();return Pe=function(t,n){return e[t]||(e[t]=n||{})}}function nt(){if($e)return De;$e=1;var e=pe(),t=Object;return De=function(n){return t(e(n))}}function rt(){if(Re)return Ie;Re=1;var e=de(),t=nt(),n=e({}.hasOwnProperty);return Ie=Object.hasOwn||function(e,r){return n(t(e),r)}}function ot(){if(Be)return Ne;Be=1;var e=de(),t=0,n=Math.random(),r=e(1.1.toString);return Ne=function(e){return"Symbol("+(void 0===e?"":e)+")_"+r(++t+n,36)}}function it(){if(Fe)return Ue;Fe=1;var e=u(),t=tt(),n=rt(),r=ot(),o=_e(),i=Se(),a=e.Symbol,s=t("wks"),c=i?a.for||a:a&&a.withoutSetter||r;return Ue=function(e){return n(s,e)||(s[e]=o&&n(a,e)?a[e]:c("Symbol."+e)),s[e]}}function at(){if(Ge)return He;Ge=1;var e=_(),t=ye(),n=ke(),r=Oe(),o=function(){if(ue)return se;ue=1;var e=_(),t=ge(),n=ye(),r=TypeError;return se=function(o,i){var a,s;if("string"===i&&t(a=o.toString)&&!n(s=e(a,o)))return s;if(t(a=o.valueOf)&&!n(s=e(a,o)))return s;if("string"!==i&&t(a=o.toString)&&!n(s=e(a,o)))return s;throw new r("Can't convert object to primitive value")}}(),i=it(),a=TypeError,s=i("toPrimitive");return He=function(i,u){if(!t(i)||n(i))return i;var c,l=r(i,s);if(l){if(void 0===u&&(u="default"),c=e(l,i,u),!t(c)||n(c))return c;throw new a("Can't convert object to primitive value")}return void 0===u&&(u="number"),o(i,u)}}function st(){if(Je)return Me;Je=1;var e=at(),t=ke();return Me=function(n){var r=e(n,"string");return t(r)?r:r+""}}function ut(){if(Ke)return ze;Ke=1;var e=u(),t=ye(),n=e.document,r=t(n)&&t(n.createElement);return ze=function(e){return r?n.createElement(e):{}}}function ct(){if(Ye)return We;Ye=1;var e=b(),t=v(),n=ut();return We=!e&&!t(function(){return 7!==Object.defineProperty(n("div"),"a",{get:function(){return 7}}).a})}function lt(){if(Ve)return y;Ve=1;var e=b(),t=_(),n=function(){if(S)return ce;S=1;var e={}.propertyIsEnumerable,t=Object.getOwnPropertyDescriptor,n=t&&!e.call({1:2},1);return ce.f=n?function(e){var n=t(this,e);return!!n&&n.enumerable}:e,ce}(),r=le(),o=me(),i=st(),a=rt(),s=ct(),u=Object.getOwnPropertyDescriptor;return y.f=e?u:function(e,c){if(e=o(e),c=i(c),s)try{return u(e,c)}catch(e){}if(a(e,c))return r(!t(n.f,e,c),e[c])},y}var dt,ft,ht,pt,mt,gt,yt,vt={};function bt(){if(ft)return dt;ft=1;var e=b(),t=v();return dt=e&&t(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})}function wt(){if(pt)return ht;pt=1;var e=ye(),t=String,n=TypeError;return ht=function(r){if(e(r))return r;throw new n(t(r)+" is not an object")}}function _t(){if(mt)return vt;mt=1;var e=b(),t=ct(),n=bt(),r=wt(),o=st(),i=TypeError,a=Object.defineProperty,s=Object.getOwnPropertyDescriptor,u="enumerable",c="configurable",l="writable";return vt.f=e?n?function(e,t,n){if(r(e),t=o(t),r(n),"function"==typeof e&&"prototype"===t&&"value"in n&&l in n&&!n[l]){var i=s(e,t);i&&i[l]&&(e[t]=n.value,n={configurable:c in n?n[c]:i[c],enumerable:u in n?n[u]:i[u],writable:!1})}return a(e,t,n)}:a:function(e,n,s){if(r(e),n=o(n),r(s),t)try{return a(e,n,s)}catch(e){}if("get"in s||"set"in s)throw new i("Accessors not supported");return"value"in s&&(e[n]=s.value),e},vt}function St(){if(yt)return gt;yt=1;var e=b(),t=_t(),n=le();return gt=e?function(e,r,o){return t.f(e,r,n(1,o))}:function(e,t,n){return e[t]=n,e}}var kt,Et,Tt,Ot,xt,qt,At,Lt,jt,Pt,Ct,Dt,$t,It,Rt,Nt={exports:{}};function Bt(){if(Lt)return At;Lt=1;var e=tt(),t=ot(),n=e("keys");return At=function(e){return n[e]||(n[e]=t(e))}}function Ut(){return Pt?jt:(Pt=1,jt={})}function Ft(){if(Dt)return Ct;Dt=1;var e,t,n,r=function(){if(qt)return xt;qt=1;var e=u(),t=ge(),n=e.WeakMap;return xt=t(n)&&/native code/.test(String(n))}(),o=u(),i=ye(),a=St(),s=rt(),c=et(),l=Bt(),d=Ut(),f="Object already initialized",h=o.TypeError,p=o.WeakMap;if(r||c.state){var m=c.state||(c.state=new p);m.get=m.get,m.has=m.has,m.set=m.set,e=function(e,t){if(m.has(e))throw new h(f);return t.facade=e,m.set(e,t),t},t=function(e){return m.get(e)||{}},n=function(e){return m.has(e)}}else{var g=l("state");d[g]=!0,e=function(e,t){if(s(e,g))throw new h(f);return t.facade=e,a(e,g,t),t},t=function(e){return s(e,g)?e[g]:{}},n=function(e){return s(e,g)}}return Ct={set:e,get:t,has:n,enforce:function(r){return n(r)?t(r):e(r,{})},getterFor:function(e){return function(n){var r;if(!i(n)||(r=t(n)).type!==e)throw new h("Incompatible receiver, "+e+" required");return r}}}}function Ht(){if($t)return Nt.exports;$t=1;var e=de(),t=v(),n=ge(),r=rt(),o=b(),i=function(){if(Et)return kt;Et=1;var e=b(),t=rt(),n=Function.prototype,r=e&&Object.getOwnPropertyDescriptor,o=t(n,"name"),i=o&&"something"===function(){}.name,a=o&&(!e||e&&r(n,"name").configurable);return kt={EXISTS:o,PROPER:i,CONFIGURABLE:a}}().CONFIGURABLE,a=function(){if(Ot)return Tt;Ot=1;var e=de(),t=ge(),n=et(),r=e(Function.toString);return t(n.inspectSource)||(n.inspectSource=function(e){return r(e)}),Tt=n.inspectSource}(),s=Ft(),u=s.enforce,c=s.get,l=String,d=Object.defineProperty,f=e("".slice),h=e("".replace),p=e([].join),m=o&&!t(function(){return 8!==d(function(){},"length",{value:8}).length}),g=String(String).split("String"),y=Nt.exports=function(e,t,n){"Symbol("===f(l(t),0,7)&&(t="["+h(l(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!r(e,"name")||i&&e.name!==t)&&(o?d(e,"name",{value:t,configurable:!0}):e.name=t),m&&n&&r(n,"arity")&&e.length!==n.arity&&d(e,"length",{value:n.arity});try{n&&r(n,"constructor")&&n.constructor?o&&d(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var a=u(e);return r(a,"source")||(a.source=p(g,"string"==typeof t?t:"")),e};return Function.prototype.toString=y(function(){return n(this)&&c(this).source||a(this)},"toString"),Nt.exports}function Gt(){if(Rt)return It;Rt=1;var e=ge(),t=_t(),n=Ht(),r=Qe();return It=function(o,i,a,s){s||(s={});var u=s.enumerable,c=void 0!==s.name?s.name:i;if(e(a)&&n(a,c,s),s.global)u?o[i]=a:r(i,a);else{try{s.unsafe?o[i]&&(u=!0):delete o[i]}catch(e){}u?o[i]=a:t.f(o,i,{value:a,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return o}}var Mt,Jt,zt,Kt,Wt,Yt,Vt,Xt,Zt,Qt,en,tn,nn,rn,on,an,sn,un={};function cn(){if(Kt)return zt;Kt=1;var e=function(){if(Jt)return Mt;Jt=1;var e=Math.ceil,t=Math.floor;return Mt=Math.trunc||function(n){var r=+n;return(r>0?t:e)(r)}}();return zt=function(t){var n=+t;return n!=n||0===n?0:e(n)}}function ln(){if(Qt)return Zt;Qt=1;var e=function(){if(Xt)return Vt;Xt=1;var e=cn(),t=Math.min;return Vt=function(n){var r=e(n);return r>0?t(r,9007199254740991):0}}();return Zt=function(t){return e(t.length)}}function dn(){if(tn)return en;tn=1;var e=me(),t=function(){if(Yt)return Wt;Yt=1;var e=cn(),t=Math.max,n=Math.min;return Wt=function(r,o){var i=e(r);return i<0?t(i+o,0):n(i,o)}}(),n=ln(),r=function(r){return function(o,i,a){var s=e(o),u=n(s);if(0===u)return!r&&-1;var c,l=t(a,u);if(r&&i!=i){for(;u>l;)if((c=s[l++])!=c)return!0}else for(;u>l;l++)if((r||l in s)&&s[l]===i)return r||l||0;return!r&&-1}};return en={includes:r(!0),indexOf:r(!1)}}function fn(){if(rn)return nn;rn=1;var e=de(),t=rt(),n=me(),r=dn().indexOf,o=Ut(),i=e([].push);return nn=function(e,a){var s,u=n(e),c=0,l=[];for(s in u)!t(o,s)&&t(u,s)&&i(l,s);for(;a.length>c;)t(u,s=a[c++])&&(~r(l,s)||i(l,s));return l}}function hn(){return an?on:(an=1,on=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"])}function pn(){if(sn)return un;sn=1;var e=fn(),t=hn().concat("length","prototype");return un.f=Object.getOwnPropertyNames||function(n){return e(n,t)},un}var mn,gn,yn,vn,bn,wn,_n,Sn,kn,En,Tn,On,xn,qn,An,Ln,jn,Pn,Cn,Dn,$n,In,Rn,Nn,Bn,Un,Fn,Hn,Gn={};function Mn(){if(yn)return gn;yn=1;var e=ve(),t=de(),n=pn(),r=(mn||(mn=1,Gn.f=Object.getOwnPropertySymbols),Gn),o=wt(),i=t([].concat);return gn=e("Reflect","ownKeys")||function(e){var t=n.f(o(e)),a=r.f;return a?i(t,a(e)):t}}function Jn(){if(_n)return wn;_n=1;var e=v(),t=ge(),n=/#|\.prototype\./,r=function(n,r){var u=i[o(n)];return u===s||u!==a&&(t(r)?e(r):!!r)},o=r.normalize=function(e){return String(e).replace(n,".").toLowerCase()},i=r.data={},a=r.NATIVE="N",s=r.POLYFILL="P";return wn=r}function zn(){if(kn)return Sn;kn=1;var e=u(),t=lt().f,n=St(),r=Gt(),o=Qe(),i=function(){if(bn)return vn;bn=1;var e=rt(),t=Mn(),n=lt(),r=_t();return vn=function(o,i,a){for(var s=t(i),u=r.f,c=n.f,l=0;l<s.length;l++){var d=s[l];e(o,d)||a&&e(a,d)||u(o,d,c(i,d))}}}(),a=Jn();return Sn=function(s,u){var c,l,d,f,h,p=s.target,m=s.global,g=s.stat;if(c=m?e:g?e[p]||o(p,{}):e[p]&&e[p].prototype)for(l in u){if(f=u[l],d=s.dontCallGetSet?(h=t(c,l))&&h.value:c[l],!a(m?l:p+(g?".":"#")+l,s.forced)&&void 0!==d){if(typeof f==typeof d)continue;i(f,d)}(s.sham||d&&d.sham)&&n(f,"sham",!0),r(c,l,f,s)}}}function Kn(){if(Cn)return Pn;Cn=1;var e=function(){if(jn)return Ln;jn=1;var e={};return e[it()("toStringTag")]="z",Ln="[object z]"===String(e)}(),t=ge(),n=fe(),r=it()("toStringTag"),o=Object,i="Arguments"===n(function(){return arguments}());return Pn=e?n:function(e){var a,s,u;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(s=function(e,t){try{return e[t]}catch(e){}}(a=o(e),r))?s:i?n(a):"Object"===(u=n(a))&&t(a.callee)?"Arguments":u}}function Wn(){if($n)return Dn;$n=1;var e=Kn(),t=String;return Dn=function(n){if("Symbol"===e(n))throw new TypeError("Cannot convert a Symbol value to a string");return t(n)}}function Yn(){if(Hn)return s;Hn=1;var e=zn(),t=ve(),n=function(){if(Tn)return En;Tn=1;var e=w(),t=Function.prototype,n=t.apply,r=t.call;return En="object"==typeof Reflect&&Reflect.apply||(e?r.bind(n):function(){return r.apply(n,arguments)}),En}(),r=_(),o=de(),i=v(),a=function(){if(xn)return On;xn=1;var e=fe();return On=Array.isArray||function(t){return"Array"===e(t)}}(),u=ge(),c=function(){if(An)return qn;An=1;var e=ye(),t=Ft().get;return qn=function(n){if(!e(n))return!1;var r=t(n);return!!r&&"RawJSON"===r.type}}(),l=ke(),d=fe(),f=Wn(),h=function(){if(Rn)return In;Rn=1;var e=de();return In=e([].slice)}(),p=function(){if(Bn)return Nn;Bn=1;var e=de(),t=rt(),n=SyntaxError,r=parseInt,o=String.fromCharCode,i=e("".charAt),a=e("".slice),s=e(/./.exec),u={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":"\n","\\r":"\r","\\t":"\t"},c=/^[\da-f]{4}$/i,l=/^[\u0000-\u001F]$/;return Nn=function(e,d){for(var f=!0,h="";d<e.length;){var p=i(e,d);if("\\"===p){var m=a(e,d,d+2);if(t(u,m))h+=u[m],d+=2;else{if("\\u"!==m)throw new n('Unknown escape sequence: "'+m+'"');var g=a(e,d+=2,d+4);if(!s(c,g))throw new n("Bad Unicode escape at: "+d);h+=o(r(g,16)),d+=4}}else{if('"'===p){f=!1,d++;break}if(s(l,p))throw new n("Bad control character in string literal at: "+d);h+=p,d++}}if(f)throw new n("Unterminated string at: "+d);return{value:h,end:d}}}(),m=ot(),g=_e(),y=function(){if(Fn)return Un;Fn=1;var e=v();return Un=!e(function(){var e="9007199254740993",t=JSON.rawJSON(e);return!JSON.isRawJSON(t)||JSON.stringify(t)!==e})}(),b=String,S=t("JSON","stringify"),k=o(/./.exec),E=o("".charAt),T=o("".charCodeAt),O=o("".replace),x=o("".slice),q=o([].push),A=o(1.1.toString),L=/[\uD800-\uDFFF]/g,j=/^[\uD800-\uDBFF]$/,P=/^[\uDC00-\uDFFF]$/,C=m(),D=C.length,$=!g||i(function(){var e=t("Symbol")("stringify detection");return"[null]"!==S([e])||"{}"!==S({a:e})||"{}"!==S(Object(e))}),I=i(function(){return'"\\udf06\\ud834"'!==S("\udf06\ud834")||'"\\udead"'!==S("\udead")}),R=$?function(e,t){var o=h(arguments),i=B(t);if(u(i)||void 0!==e&&!l(e))return o[1]=function(e,t){if(u(i)&&(t=r(i,this,b(e),t)),!l(t))return t},n(S,null,o)}:S,N=function(e,t,n){var r=E(n,t-1),o=E(n,t+1);return k(j,e)&&!k(P,o)||k(P,e)&&!k(j,r)?"\\u"+A(T(e,0),16):e},B=function(e){if(u(e))return e;if(a(e)){for(var t=e.length,n=[],r=0;r<t;r++){var o=e[r];"string"==typeof o?q(n,o):"number"!=typeof o&&"Number"!==d(o)&&"String"!==d(o)||q(n,f(o))}var i=n.length,s=!0;return function(e,t){if(s)return s=!1,t;if(a(this))return t;for(var r=0;r<i;r++)if(n[r]===e)return t}}};return S&&e({target:"JSON",stat:!0,arity:3,forced:$||I||!y},{stringify:function(e,t,n){var o=B(t),i=[],a=R(e,function(e,t){var n=u(o)?r(o,this,b(e),t):t;return!y&&c(n)?C+(q(i,n.rawJSON)-1):n},n);if("string"!=typeof a)return a;if(I&&(a=O(a,L,N)),y)return a;for(var s="",l=a.length,d=0;d<l;d++){var f=E(a,d);if('"'===f){var h=p(a,++d).end-1,m=x(a,d,h);s+=x(m,0,D)===C?i[x(m,D)]:'"'+m+'"',d=h}else s+=f}return s}}),s}var Vn,Xn,Zn,Qn,er,tr,nr,rr,or,ir,ar={};function sr(){if(tr)return er;tr=1;var e=rt(),t=ge(),n=nt(),r=Bt(),o=function(){if(Qn)return Zn;Qn=1;var e=v();return Zn=!e(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})}(),i=r("IE_PROTO"),a=Object,s=a.prototype;return er=o?a.getPrototypeOf:function(r){var o=n(r);if(e(o,i))return o[i];var u=o.constructor;return t(u)&&o instanceof u?u.prototype:o instanceof a?s:null}}function ur(){if(rr)return nr;rr=1;var e=Ht(),t=_t();return nr=function(n,r,o){return o.get&&e(o.get,r,{getter:!0}),o.set&&e(o.set,r,{setter:!0}),t.f(n,r,o)}}var cr,lr,dr,fr,hr,pr,mr,gr,yr,vr,br,wr={};function _r(){if(dr)return wr;dr=1;var e=b(),t=bt(),n=_t(),r=wt(),o=me(),i=function(){if(lr)return cr;lr=1;var e=fn(),t=hn();return cr=Object.keys||function(n){return e(n,t)}}();return wr.f=e&&!t?Object.defineProperties:function(e,t){r(e);for(var a,s=o(t),u=i(t),c=u.length,l=0;c>l;)n.f(e,a=u[l++],s[a]);return e},wr}function Sr(){if(mr)return pr;mr=1;var e,t=wt(),n=_r(),r=hn(),o=Ut(),i=function(){if(hr)return fr;hr=1;var e=ve();return fr=e("document","documentElement")}(),a=ut(),s=Bt(),u="prototype",c="script",l=s("IE_PROTO"),d=function(){},f=function(e){return"<"+c+">"+e+"</"+c+">"},h=function(e){e.write(f("")),e.close();var t=e.parentWindow.Object;return e=null,t},p=function(){try{e=new ActiveXObject("htmlfile")}catch(e){}var t,n,o;p="undefined"!=typeof document?document.domain&&e?h(e):(n=a("iframe"),o="java"+c+":",n.style.display="none",i.appendChild(n),n.src=String(o),(t=n.contentWindow.document).open(),t.write(f("document.F=Object")),t.close(),t.F):h(e);for(var s=r.length;s--;)delete p[u][r[s]];return p()};return o[l]=!0,pr=Object.create||function(e,r){var o;return null!==e?(d[u]=t(e),o=new d,d[u]=null,o[l]=e):o=p(),void 0===r?o:n.f(o,r)}}function kr(){if(vr)return ar;vr=1;var e=zn(),t=u(),n=function(){if(Xn)return Vn;Xn=1;var e=be(),t=TypeError;return Vn=function(n,r){if(e(r,n))return n;throw new t("Incorrect invocation")}}(),r=wt(),o=ge(),i=sr(),a=ur(),s=function(){if(ir)return or;ir=1;var e=b(),t=_t(),n=le();return or=function(r,o,i){e?t.f(r,o,n(0,i)):r[o]=i}}(),c=v(),l=rt(),d=it(),f=function(){if(yr)return gr;yr=1;var e,t,n,r=v(),o=ge(),i=ye(),a=Sr(),s=sr(),u=Gt(),c=it(),l=Ze(),d=c("iterator"),f=!1;return[].keys&&("next"in(n=[].keys())?(t=s(s(n)))!==Object.prototype&&(e=t):f=!0),!i(e)||r(function(){var t={};return e[d].call(t)!==t})?e={}:l&&(e=a(e)),o(e[d])||u(e,d,function(){return this}),gr={IteratorPrototype:e,BUGGY_SAFARI_ITERATORS:f}}().IteratorPrototype,h=b(),p=Ze(),m="constructor",g="Iterator",y=d("toStringTag"),w=TypeError,_=t[g],S=p||!o(_)||_.prototype!==f||!c(function(){_({})}),k=function(){if(n(this,f),i(this)===f)throw new w("Abstract class Iterator not directly constructable")},E=function(e,t){h?a(f,e,{configurable:!0,get:function(){return t},set:function(t){if(r(this),this===f)throw new w("You can't redefine this property");l(this,e)?this[e]=t:s(this,e,t)}}):f[e]=t};return l(f,y)||E(y,g),!S&&l(f,m)&&f[m]!==Object||E(m,k),k.prototype=f,e({global:!0,constructor:!0,forced:S},{Iterator:k}),ar}var Er,Tr,Or,xr,qr,Ar,Lr,jr,Pr,Cr,Dr,$r,Ir,Rr,Nr,Br,Ur,Fr,Hr,Gr,Mr,Jr,zr={};function Kr(){if(xr)return Or;xr=1;var e=function(){if(Tr)return Er;Tr=1;var e=fe(),t=de();return Er=function(n){if("Function"===e(n))return t(n)}}(),t=Te(),n=w(),r=e(e.bind);return Or=function(e,o){return t(e),void 0===o?e:n?r(e,o):function(){return e.apply(o,arguments)}},Or}function Wr(){return Ar?qr:(Ar=1,qr={})}function Yr(){if(Cr)return Pr;Cr=1;var e=Kn(),t=Oe(),n=he(),r=Wr(),o=it()("iterator");return Pr=function(i){if(!n(i))return t(i,o)||t(i,"@@iterator")||r[e(i)]}}function Vr(){if(Rr)return Ir;Rr=1;var e=_(),t=wt(),n=Oe();return Ir=function(r,o,i){var a,s;t(r);try{if(!(a=n(r,"return"))){if("throw"===o)throw i;return i}a=e(a,r)}catch(e){s=!0,a=e}if("throw"===o)throw i;if(s)throw a;return t(a),i}}function Xr(){if(Br)return Nr;Br=1;var e=Kr(),t=_(),n=wt(),r=Ee(),o=function(){if(jr)return Lr;jr=1;var e=it(),t=Wr(),n=e("iterator"),r=Array.prototype;return Lr=function(e){return void 0!==e&&(t.Array===e||r[n]===e)}}(),i=ln(),a=be(),s=function(){if($r)return Dr;$r=1;var e=_(),t=Te(),n=wt(),r=Ee(),o=Yr(),i=TypeError;return Dr=function(a,s){var u=arguments.length<2?o(a):s;if(t(u))return n(e(u,a));throw new i(r(a)+" is not iterable")},Dr}(),u=Yr(),c=Vr(),l=TypeError,d=function(e,t){this.stopped=e,this.result=t},f=d.prototype;return Nr=function(h,p,m){var g,y,v,b,w,_,S,k=m&&m.that,E=!(!m||!m.AS_ENTRIES),T=!(!m||!m.IS_RECORD),O=!(!m||!m.IS_ITERATOR),x=!(!m||!m.INTERRUPTED),q=e(p,k),A=function(e){return g&&c(g,"normal"),new d(!0,e)},L=function(e){return E?(n(e),x?q(e[0],e[1],A):q(e[0],e[1])):x?q(e,A):q(e)};if(T)g=h.iterator;else if(O)g=h;else{if(!(y=u(h)))throw new l(r(h)+" is not iterable");if(o(y)){for(v=0,b=i(h);b>v;v++)if((w=L(h[v]))&&a(f,w))return w;return new d(!1)}g=s(h,y)}for(_=T?h.next:g.next;!(S=t(_,g)).done;){try{w=L(S.value)}catch(e){c(g,"throw",e)}if("object"==typeof w&&w&&a(f,w))return w}return new d(!1)}}function Zr(){if(Mr)return zr;Mr=1;var e=zn(),t=_(),n=Xr(),r=Te(),o=wt(),i=Fr?Ur:(Fr=1,Ur=function(e){return{iterator:e,next:e.next,done:!1}}),a=Vr(),s=function(){if(Gr)return Hr;Gr=1;var e=u();return Hr=function(t,n){var r=e.Iterator,o=r&&r.prototype,i=o&&o[t],a=!1;if(i)try{i.call({next:function(){return{done:!0}},return:function(){a=!0}},-1)}catch(e){e instanceof n||(a=!1)}if(!a)return i}}()("forEach",TypeError);return e({target:"Iterator",proto:!0,real:!0,forced:s},{forEach:function(e){o(this);try{r(e)}catch(e){a(this,"throw",e)}if(s)return t(s,this,e);var u=i(this),c=0;n(u,function(t){e(t,c++)},{IS_RECORD:!0})}}),zr}var Qr="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||"undefined"!=typeof global&&global||{},eo="URLSearchParams"in Qr,to="Symbol"in Qr&&"iterator"in Symbol,no="FileReader"in Qr&&"Blob"in Qr&&function(){try{return new Blob,!0}catch(e){return!1}}(),ro="FormData"in Qr,oo="ArrayBuffer"in Qr;if(oo)var io=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],ao=ArrayBuffer.isView||function(e){return e&&io.indexOf(Object.prototype.toString.call(e))>-1};function so(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function uo(e){return"string"!=typeof e&&(e=String(e)),e}function co(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return to&&(t[Symbol.iterator]=function(){return t}),t}function lo(e){this.map={},e instanceof lo?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){if(2!=e.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function fo(e){if(!e._noBody)return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function ho(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function po(e){var t=new FileReader,n=ho(t);return t.readAsArrayBuffer(e),n}function mo(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function go(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:no&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:ro&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:eo&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():oo&&no&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=mo(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):oo&&(ArrayBuffer.prototype.isPrototypeOf(e)||ao(e))?this._bodyArrayBuffer=mo(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):eo&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},no&&(this.blob=function(){var e=fo(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=fo(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(no)return this.blob().then(po);throw new Error("could not read as ArrayBuffer")},this.text=function(){var e,t,n,r,o,i=fo(this);if(i)return i;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=ho(t),r=/charset=([A-Za-z0-9_-]+)/.exec(e.type),o=r?r[1]:"utf-8",t.readAsText(e,o),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},ro&&(this.formData=function(){return this.text().then(bo)}),this.json=function(){return this.text().then(JSON.parse)},this}lo.prototype.append=function(e,t){e=so(e),t=uo(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},lo.prototype.delete=function(e){delete this.map[so(e)]},lo.prototype.get=function(e){return e=so(e),this.has(e)?this.map[e]:null},lo.prototype.has=function(e){return this.map.hasOwnProperty(so(e))},lo.prototype.set=function(e,t){this.map[so(e)]=uo(t)},lo.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},lo.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),co(e)},lo.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),co(e)},lo.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),co(e)},to&&(lo.prototype[Symbol.iterator]=lo.prototype.entries);var yo=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function vo(e,t){if(!(this instanceof vo))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,r,o=(t=t||{}).body;if(e instanceof vo){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new lo(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new lo(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),yo.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in Qr)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(o),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var i=/([?&])_=[^&]*/;if(i.test(this.url))this.url=this.url.replace(i,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function bo(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}}),t}function wo(e,t){if(!(this instanceof wo))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new lo(t.headers),this.url=t.url||"",this._initBody(e)}vo.prototype.clone=function(){return new vo(this,{body:this._bodyInit})},go.call(vo.prototype),go.call(wo.prototype),wo.prototype.clone=function(){return new wo(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new lo(this.headers),url:this.url})},wo.error=function(){var e=new wo(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var _o=[301,302,303,307,308];wo.redirect=function(e,t){if(-1===_o.indexOf(t))throw new RangeError("Invalid status code");return new wo(null,{status:t,headers:{location:e}})};var So=Qr.DOMException;try{new So}catch(e){(So=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),So.prototype.constructor=So}function ko(e,t){return new Promise(function(n,r){var o=new vo(e,t);if(o.signal&&o.signal.aborted)return r(new So("Aborted","AbortError"));var i=new XMLHttpRequest;function a(){i.abort()}if(i.onload=function(){var e,t,r={statusText:i.statusText,headers:(e=i.getAllResponseHeaders()||"",t=new lo,e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();try{t.append(r,o)}catch(e){console.warn("Response "+e.message)}}}),t)};0===o.url.indexOf("file://")&&(i.status<200||i.status>599)?r.status=200:r.status=i.status,r.url="responseURL"in i?i.responseURL:r.headers.get("X-Request-URL");var a="response"in i?i.response:i.responseText;setTimeout(function(){n(new wo(a,r))},0)},i.onerror=function(){setTimeout(function(){r(new TypeError("Network request failed"))},0)},i.ontimeout=function(){setTimeout(function(){r(new TypeError("Network request timed out"))},0)},i.onabort=function(){setTimeout(function(){r(new So("Aborted","AbortError"))},0)},i.open(o.method,function(e){try{return""===e&&Qr.location.href?Qr.location.href:e}catch(t){return e}}(o.url),!0),"include"===o.credentials?i.withCredentials=!0:"omit"===o.credentials&&(i.withCredentials=!1),"responseType"in i&&(no?i.responseType="blob":oo&&(i.responseType="arraybuffer")),t&&"object"==typeof t.headers&&!(t.headers instanceof lo||Qr.Headers&&t.headers instanceof Qr.Headers)){var s=[];Object.getOwnPropertyNames(t.headers).forEach(function(e){s.push(so(e)),i.setRequestHeader(e,uo(t.headers[e]))}),o.headers.forEach(function(e,t){-1===s.indexOf(t)&&i.setRequestHeader(t,e)})}else o.headers.forEach(function(e,t){i.setRequestHeader(t,e)});o.signal&&(o.signal.addEventListener("abort",a),i.onreadystatechange=function(){4===i.readyState&&o.signal.removeEventListener("abort",a)}),i.send(void 0===o._bodyInit?null:o._bodyInit)})}ko.polyfill=!0,Qr.fetch||(Qr.fetch=ko,Qr.Headers=lo,Qr.Request=vo,Qr.Response=wo);var Eo,To,Oo,xo,qo,Ao,Lo,jo,Po,Co,Do,$o,Io,Ro,No,Bo,Uo,Fo,Ho,Go,Mo,Jo,zo,Ko,Wo,Yo,Vo,Xo,Zo,Qo={},ei={};function ti(){if(Ao)return qo;Ao=1;var e=function(){if(xo)return Oo;xo=1;var e=ye();return Oo=function(t){return e(t)||null===t}}(),t=String,n=TypeError;return qo=function(r){if(e(r))return r;throw new n("Can't set "+t(r)+" as a prototype")}}function ni(){if(jo)return Lo;jo=1;var e=function(){if(To)return Eo;To=1;var e=de(),t=Te();return Eo=function(n,r,o){try{return e(t(Object.getOwnPropertyDescriptor(n,r)[o]))}catch(e){}}}(),t=ye(),n=pe(),r=ti();return Lo=Object.setPrototypeOf||("__proto__"in{}?function(){var o,i=!1,a={};try{(o=e(Object.prototype,"__proto__","set"))(a,[]),i=a instanceof Array}catch(e){}return function(e,a){return n(e),r(a),t(e)?(i?o(e,a):e.__proto__=a,e):e}}():void 0)}function ri(){if(Bo)return No;Bo=1;var e=wt();return No=function(){var t=e(this),n="";return t.hasIndices&&(n+="d"),t.global&&(n+="g"),t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),t.dotAll&&(n+="s"),t.unicode&&(n+="u"),t.unicodeSets&&(n+="v"),t.sticky&&(n+="y"),n}}function oi(){if(Fo)return Uo;Fo=1;var e=_(),t=rt(),n=be(),r=function(){if(Ro)return Io;Ro=1;var e=u(),t=v(),n=e.RegExp,r=!t(function(){var e=!0;try{n(".","d")}catch(t){e=!1}var t={},r="",o=e?"dgimsy":"gimsy",i=function(e,n){Object.defineProperty(t,e,{get:function(){return r+=n,!0}})},a={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var s in e&&(a.hasIndices="d"),a)i(s,a[s]);return Object.getOwnPropertyDescriptor(n.prototype,"flags").get.call(t)!==o||r!==o});return Io={correct:r}}(),o=ri(),i=RegExp.prototype;return Uo=r.correct?function(e){return e.flags}:function(a){return r.correct||!n(i,a)||t(a,"flags")?a.flags:e(o,a)}}function ii(){if(Go)return Ho;Go=1;var e=v(),t=u().RegExp,n=e(function(){var e=t("a","y");return e.lastIndex=2,null!==e.exec("abcd")}),r=n||e(function(){return!t("a","y").sticky}),o=n||e(function(){var e=t("^r","gy");return e.lastIndex=2,null!==e.exec("str")});return Ho={BROKEN_CARET:o,MISSED_STICKY:r,UNSUPPORTED_Y:n}}function ai(){if(Yo)return Wo;Yo=1;var e=v(),t=u().RegExp;return Wo=e(function(){var e=t(".","s");return!(e.dotAll&&e.test("\n")&&"s"===e.flags)})}function si(){if(Xo)return Vo;Xo=1;var e=v(),t=u().RegExp;return Vo=e(function(){var e=t("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")})}function ui(){if(Zo)return ei;Zo=1;var e=b(),t=u(),n=de(),r=Jn(),o=function(){if(Co)return Po;Co=1;var e=ge(),t=ye(),n=ni();return Po=function(r,o,i){var a,s;return n&&e(a=o.constructor)&&a!==i&&t(s=a.prototype)&&s!==i.prototype&&n(r,s),r}}(),i=St(),a=Sr(),s=pn().f,c=be(),l=function(){if($o)return Do;$o=1;var e=ye(),t=fe(),n=it()("match");return Do=function(r){var o;return e(r)&&(void 0!==(o=r[n])?!!o:"RegExp"===t(r))}}(),d=Wn(),f=oi(),h=ii(),p=function(){if(Jo)return Mo;Jo=1;var e=_t().f;return Mo=function(t,n,r){r in t||e(t,r,{configurable:!0,get:function(){return n[r]},set:function(e){n[r]=e}})}}(),m=Gt(),g=v(),y=rt(),w=Ft().enforce,_=function(){if(Ko)return zo;Ko=1;var e=ve(),t=ur(),n=it(),r=b(),o=n("species");return zo=function(n){var i=e(n);r&&i&&!i[o]&&t(i,o,{configurable:!0,get:function(){return this}})}}(),S=it(),k=ai(),E=si(),T=S("match"),O=t.RegExp,x=O.prototype,q=t.SyntaxError,A=n(x.exec),L=n("".charAt),j=n("".replace),P=n("".indexOf),C=n("".slice),D=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,$=/a/g,I=/a/g,R=new O($)!==$,N=h.MISSED_STICKY,B=h.UNSUPPORTED_Y,U=e&&(!R||N||k||E||g(function(){return I[T]=!1,O($)!==$||O(I)===I||"/a/i"!==String(O($,"i"))}));if(r("RegExp",U)){for(var F=function(e,t){var n,r,s,u,h,p,m=c(x,this),g=l(e),v=void 0===t,b=[],_=e;if(!m&&g&&v&&e.constructor===F)return e;if((g||c(x,e))&&(e=e.source,v&&(t=f(_))),e=void 0===e?"":d(e),t=void 0===t?"":d(t),_=e,k&&"dotAll"in $&&(r=!!t&&P(t,"s")>-1)&&(t=j(t,/s/g,"")),n=t,N&&"sticky"in $&&(s=!!t&&P(t,"y")>-1)&&B&&(t=j(t,/y/g,"")),E&&(u=function(e){for(var t,n=e.length,r=0,o="",i=[],s=a(null),u=!1,c=!1,l=0,d="";r<=n;r++){if("\\"===(t=L(e,r)))t+=L(e,++r);else if("]"===t)u=!1;else if(!u)switch(!0){case"["===t:u=!0;break;case"("===t:if(o+=t,"?:"===C(e,r+1,r+3))continue;A(D,C(e,r+1))&&(r+=2,c=!0),l++;continue;case">"===t&&c:if(""===d||y(s,d))throw new q("Invalid capture group name");s[d]=!0,i[i.length]=[d,l],c=!1,d="";continue}c?d+=t:o+=t}return[o,i]}(e),e=u[0],b=u[1]),h=o(O(e,t),m?this:x,F),(r||s||b.length)&&(p=w(h),r&&(p.dotAll=!0,p.raw=F(function(e){for(var t,n=e.length,r=0,o="",i=!1;r<=n;r++)"\\"!==(t=L(e,r))?i||"."!==t?("["===t?i=!0:"]"===t&&(i=!1),o+=t):o+="[\\s\\S]":o+=t+L(e,++r);return o}(e),n)),s&&(p.sticky=!0),b.length&&(p.groups=b)),e!==_)try{i(h,"source",""===_?"(?:)":_)}catch(e){}return h},H=s(O),G=0;H.length>G;)p(F,O,H[G++]);x.constructor=F,F.prototype=x,m(t,"RegExp",F,{constructor:!0})}return _("RegExp"),ei}var ci,li,di,fi,hi,pi={};function mi(){if(di)return pi;di=1;var e=zn(),t=function(){if(li)return ci;li=1;var e,t,n=_(),r=de(),o=Wn(),i=ri(),a=ii(),s=tt(),u=Sr(),c=Ft().get,l=ai(),d=si(),f=s("native-string-replace",String.prototype.replace),h=RegExp.prototype.exec,p=h,m=r("".charAt),g=r("".indexOf),y=r("".replace),v=r("".slice),b=(t=/b*/g,n(h,e=/a/,"a"),n(h,t,"a"),0!==e.lastIndex||0!==t.lastIndex),w=a.BROKEN_CARET,S=void 0!==/()??/.exec("")[1];return(b||S||w||l||d)&&(p=function(e){var t,r,a,s,l,d,_,k=this,E=c(k),T=o(e),O=E.raw;if(O)return O.lastIndex=k.lastIndex,t=n(p,O,T),k.lastIndex=O.lastIndex,t;var x=E.groups,q=w&&k.sticky,A=n(i,k),L=k.source,j=0,P=T;if(q&&(A=y(A,"y",""),-1===g(A,"g")&&(A+="g"),P=v(T,k.lastIndex),k.lastIndex>0&&(!k.multiline||k.multiline&&"\n"!==m(T,k.lastIndex-1))&&(L="(?: "+L+")",P=" "+P,j++),r=new RegExp("^(?:"+L+")",A)),S&&(r=new RegExp("^"+L+"$(?!\\s)",A)),b&&(a=k.lastIndex),s=n(h,q?r:k,P),q?s?(s.input=v(s.input,j),s[0]=v(s[0],j),s.index=k.lastIndex,k.lastIndex+=s[0].length):k.lastIndex=0:b&&s&&(k.lastIndex=k.global?s.index+s[0].length:a),S&&s&&s.length>1&&n(f,s[0],r,function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(s[l]=void 0)}),s&&x)for(s.groups=d=u(null),l=0;l<x.length;l++)d[(_=x[l])[0]]=s[_[1]];return s}),ci=p}();return e({target:"RegExp",proto:!0,forced:/./.exec!==t},{exec:t}),pi}var gi=function(){if(hi)return r;hi=1;var e,t=(n||(n=1,(e=o).exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports),o.exports);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,Yn(),br||(br=1,kr()),Jr||(Jr=1,Zr());var i=t((fi||(fi=1,Object.defineProperty(Qo,"__esModule",{value:!0}),Qo.default=void 0,ui(),mi(),Qo.default=class{static cookieExists(e){return void 0!==document.cookie&&null!==this.cookieGet(e)}static cookieGet(e){var t=document.cookie.match(new RegExp(e+"=([^;]+)"));return t?decodeURIComponent(t[1]):null}static cookieSet(e,t,n){let r="";window.location.protocol.indexOf("https")>-1&&(r="; SameSite=None; Secure"),document.cookie=e+"="+encodeURIComponent(t)+"; expires="+new Date((new Date).getTime()+24*n*60*60*1e3).toUTCString()+"; path=/"+r}static cookieDelete(e){let t="";window.location.protocol.indexOf("https")>-1&&(t="; SameSite=None; Secure"),document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/"+t}static remove(e){null!==e&&e.parentNode.removeChild(e)}}),Qo));class a{constructor(e){"auth_login"in e||(e.auth_login="email"),this.config=e}isLoggedIn(){return null!==this.getPayload()}getUserId(){let e=this.getPayload();return null===e?null:e.sub}getPayload(){if(null===i.default.cookieGet("access_token"))return null;try{return JSON.parse(atob(i.default.cookieGet("access_token").split(".")[1]))}catch(e){return null}}logout(){return new Promise((e,t)=>{this.addLoadingState("logging-out"),fetch(this.config.auth_server+"/logout",{method:"POST",headers:{"content-type":"application/json",Authorization:"Bearer "+i.default.cookieGet("access_token")},cache:"no-cache"}).then(e=>e.json()).catch(e=>e).then(n=>{this.setCookies(null).then(()=>{this.removeLoadingStates(),e()}).catch(e=>{t(e)})})})}login(){return new Promise((e,t)=>{null!==i.default.cookieGet("access_token")?(this.addLoadingState("logging-in"),fetch(this.config.auth_server+"/check",{method:"POST",body:JSON.stringify({access_token:i.default.cookieGet("access_token")}),headers:{"content-type":"application/json"},cache:"no-cache"}).then(e=>e.json()).catch(e=>e).then(n=>{!0===n.success?this.setCookies(i.default.cookieGet("access_token")).then(()=>{this.removeLoadingStates(),e()}).catch(e=>{t(e)}):fetch(this.config.auth_server+"/refresh",{method:"POST",headers:{"content-type":"application/json",Authorization:"Bearer "+i.default.cookieGet("access_token")},cache:"no-cache"}).then(e=>e.json()).catch(e=>e).then(n=>{!0===n.success?this.setCookies(n.data.access_token).then(()=>{this.removeLoadingStates(),e()}).catch(e=>{t(e)}):this.renderLoginFormWithPromise().then(()=>{e()})})})):this.renderLoginFormWithPromise().then(()=>{e()}).catch(()=>{t()})})}fetch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((n,r)=>{"headers"in t||(t.headers={}),"tries"in t||(t.tries=0),t.tries++,t.tries>3?r(null):!1===this.isLoggedIn()?this.login().then(()=>{this.fetch(e,t).then(e=>{n(e)}).catch(e=>{r(e)})}).catch(e=>{r(e)}):(this.addLoadingState("fetching"),t.headers.Authorization="Bearer "+i.default.cookieGet("access_token"),fetch(e,t).then(e=>e).catch(e=>e).then(o=>{this.removeLoadingStates(),401===o.status?(this.addLoadingState("logging-in"),fetch(this.config.auth_server+"/refresh",{method:"POST",headers:{"content-type":"application/json",Authorization:"Bearer "+i.default.cookieGet("access_token")},cache:"no-cache"}).then(e=>e.json()).catch(e=>e).then(o=>{!0===o.success?this.setCookies(o.data.access_token).then(()=>{this.removeLoadingStates(),this.fetch(e,t).then(e=>{n(e)}).catch(e=>{r(e)})}).catch(e=>{this.removeLoadingStates(),r(e)}):(this.removeLoadingStates(),this.renderLoginFormWithPromise().then(()=>{this.fetch(e,t).then(e=>{n(e)}).catch(e=>{r(e)})}).catch(e=>{r(e)}))})):n(o)}))})}setCookies(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new Promise((t,n)=>{if(void 0===this.setCookieLoading&&this.setCookieLoading,!0===this.setCookieLoading)return void t();if(this.setCookieLoading=!0,null!==e?i.default.cookieSet("access_token",e,28):i.default.cookieDelete("access_token"),void 0===this.config.sso||1===this.config.sso.length&&this.config.sso[0]===window.location.protocol+"//"+window.location.host)return this.setCookieLoading=!1,void t();i.default.remove(document.querySelector(".iframe_wrapper"));let r=document.createElement("div");r.setAttribute("class","iframe_wrapper"),r.style.position="absolute",r.style.opacity="0",document.body.appendChild(r);let o=null,a=this,s=this.config.sso.length-1,u=function(e){-1!==a.config.sso.indexOf(e.origin)&&(void 0!==e.data&&null!==e.data&&"success"in e.data&&!0===e.data.success&&s--,s<=0&&(o&&clearTimeout(o),window.removeEventListener("message",u,!1),i.default.remove(document.querySelector(".iframe_wrapper")),a.setCookieLoading=!1,t()))};window.addEventListener("message",u,!1),o=setTimeout(()=>{!0===this.setCookieLoading&&(window.removeEventListener("message",u,!1),i.default.remove(document.querySelector(".iframe_wrapper")),this.setCookieLoading=!1,t())},2e4),this.config.sso.forEach(t=>{if(t===window.location.protocol+"//"+window.location.host)return;let n=document.createElement("iframe");n.setAttribute("src",t+"/sso.html"),n.style.width="1px",n.style.height="1px",n.addEventListener("load",r=>{n.contentWindow.postMessage({access_token:e},t)}),document.querySelector(".iframe_wrapper").appendChild(n)})})}renderLoginFormWithPromise(){return new Promise((e,t)=>{this.buildUpLoginFormHtml(),this.bindLoginFormSubmit().then(()=>{e()}).catch(e=>{t(e)}),this.triggerLoginFormRenderedEvent()})}buildUpLoginFormHtml(){"login_form"in this.config&&""!=this.config.login_form||(this.config.login_form='<div class="login-form">\n                <div class="login-form__inner">\n                    <form class="login-form__form">\n                        <ul class="login-form__items">\n                            <li class="login-form__item">\n                                <label class="login-form__label login-form__label--'.concat(this.config.auth_login,'" for="login-form__label--').concat(this.config.auth_login,'">').concat("email"===this.config.auth_login?"E-Mail-Adresse":"username"===this.config.auth_login?"Benutzername":this.config.auth_login,'</label>\n                                <input class="login-form__input login-form__input--').concat(this.config.auth_login,'" id="login-form__label--').concat(this.config.auth_login,'" type="text" required="required" name="').concat(this.config.auth_login,'" />\n                            </li>\n                            <li class="login-form__item">\n                                <label class="login-form__label login-form__label--password" for="login-form__label--password">Passwort</label>\n                                <input class="login-form__input login-form__input--password" id="login-form__label--password" type="password" required="required" name="password" />\n                            </li>\n                            <li class="login-form__item">\n                                <input class="login-form__submit" type="submit" value="Anmelden" />\n                            </li>\n                        </ul>\n                    </form>\n                </div>\n            </div>'));let e=(new DOMParser).parseFromString(this.config.login_form,"text/html").body.childNodes[0];this.config.login_form_class=e.getAttribute("class").split(" ")[0],i.default.remove(document.querySelector("."+this.config.login_form_class)),this.addLoadingState("login-form-visible");let t=document.body;"login_form_parent"in this.config&&""!=this.config.login_form_parent&&null!==document.querySelector(this.config.login_form_parent)&&(t=document.querySelector(this.config.login_form_parent)),t.appendChild(e)}triggerLoginFormRenderedEvent(){"login_form_rendered"in this.config&&""!=this.config.login_form_rendered&&"function"==typeof this.config.login_form_rendered&&this.config.login_form_rendered(document.querySelector("."+this.config.login_form_class))}bindLoginFormSubmit(){return new Promise((e,t)=>{let n=document.querySelector("."+this.config.login_form_class),r=n.querySelector("form");r.addEventListener("submit",o=>{this.addLoadingState("logging-in"),null!==r.querySelector('input[type="submit"]')&&(r.querySelector('input[type="submit"]').disabled=!0),i.default.remove(n.querySelector("."+this.config.login_form_class+"__error")),fetch(this.config.auth_server+"/login",{method:"POST",body:JSON.stringify({[this.config.auth_login]:r.querySelector('input[name="'+this.config.auth_login+'"]').value,password:r.querySelector('input[name="password"]').value}),headers:{"content-type":"application/json"},cache:"no-cache"}).then(e=>e.json()).catch(e=>e).then(n=>{null!==r.querySelector('input[type="submit"]')&&(r.querySelector('input[type="submit"]').disabled=!1),null!=n&&"success"in n&&!0===n.success?(i.default.remove(document.querySelector("."+this.config.login_form_class)),this.setCookies(n.data.access_token).then(()=>{this.removeLoadingStates(),e()}).catch(e=>{t(e)})):r.insertAdjacentHTML("afterbegin",'<div class="'+this.config.login_form_class+'__error">'+n.public_message+"</div>")}),o.preventDefault()},!1)})}addLoadingState(e){document.documentElement.classList.add("jwtbutler-"+e),"logging-in"!==e&&"logging-out"!==e||document.documentElement.classList.add("jwtbutler-loading")}removeLoadingStates(){document.documentElement.classList.remove("jwtbutler-logging-in"),document.documentElement.classList.remove("jwtbutler-logging-out"),document.documentElement.classList.remove("jwtbutler-loading"),document.documentElement.classList.remove("jwtbutler-fetching"),document.documentElement.classList.remove("jwtbutler-login-form-visible")}}return r.default=a,window.jwtbutler=a,r}();const yi=t(gi);class vi{static data={}}class bi{static fetch(e,t){return void 0===t.cache&&(t.cache="no-cache"),void 0===t.headers&&(t.headers={}),void 0===t.method&&(t.method="GET"),"POST"===t.method&&void 0===t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),new Promise(n=>{vi.api.fetch(e,t).then(e=>e.json()).catch(e=>({success:!1,message:e})).then(e=>{n(e)})})}static setUrl(e="/"){window.history.pushState({},"",e)}static updateTitle(e=null){let t="";t+="ðŸ¤–charlyðŸ¤–",e&&(t+=" ",t+="//",t+=" ",t+=e),document.title=t}static buildSelect(e=null,t=null,n=null,r=!1){let o="";if(o+='<select required="required" name="'+e+'"'+(r?' disabled="disabled"':"")+">",o+='<option value=""></option>',null!==n){let e=!1;t.forEach(t=>{n===t.id&&(e=!0)}),!1===e&&(o+='<option value="'+n+'" selected="selected">'+n+" (UNBEKANNT!)</option>")}return t.forEach(e=>{o+='<option value="'+e.id+'"'+(null!==n&&n===e.id?' selected="selected"':"")+">"+e.name+"</option>"}),o+="</select>",o}}class wi{route="/$";async init(){this.$content=document.querySelector(".content"),await this.preloadData(),await this.buildHtml(),bi.updateTitle("Home")}async preloadData(){this.response=await bi.fetch("/api/home",{method:"GET"})}async buildHtml(){let e="";e+="<h2>Home</h2>",e+='<img src="/logo.png" alt="Logo" />',e+=JSON.stringify(this.response.data),this.$content.innerHTML=e}}class _i{async init(){await this.preloadData(),await this.buildHtml(),bi.updateTitle("Chat Detail")}async preloadData(){this.providers=await bi.fetch("/api/providers",{method:"GET"}),this.tasks=await bi.fetch("/api/tasks",{method:"GET"})}async buildHtml(){document.querySelector(".chat-content").innerHTML="CHAT DETAIL!!";let e=window.location.pathname.split("/").pop(),t=await bi.fetch("/api/chats/"+e,{method:"GET"}),n="";n+=JSON.stringify(t.data),n+="<h3>Messages</h3>",t.data.messages.forEach(e=>{n+=`<p>${e.user_id}</p>`,n+=`<p>${e.content}</p>`,n+=`\n                <form\n                    class="general-form"\n                    method="post"\n                    action="/api/chats-messages/delete"\n                >\n                    <input type="hidden" name="id" value="${e.id}" />\n                    <button class="delete">Delete</button>\n                </form>\n            `}),n+=`\n            <form\n                class="general-form"\n                method="post"\n                action="/api/chats-messages/create"\n            >\n                <input type="hidden" name="chat_id" value="${e}" />\n                <textarea name="content" required="required" placeholder="Message..."></textarea>\n                <button class="Create">create</button>\n            </form>\n        `,n+=`\n            <form\n                class="general-form"\n                method="post"\n                action="/api/chats/update"\n            >\n                <input type="hidden" name="id" value="${e}" />\n                <input type="text" required="required" name="name" value="${t.data.name}" placeholder="Name..." />\n                ${bi.buildSelect("provider_id",this.providers?.data,t.data.provider_id)}\n                ${bi.buildSelect("task_id",this.tasks?.data,t.data.task_id,!0)}\n                <button type="submit">Update</button>\n            </form>\n        `,n+=`\n            <form\n                class="general-form"\n                method="post"\n                action="/api/chats/delete"\n                data-target="/chats"\n            >\n                <input type="hidden" name="id" value="${e}" />\n                <button class="delete">Delete</button>\n            </form>\n        `,document.querySelector(".chat-content").innerHTML=n}}class Si{route="/chats";async init(){this.$content=document.querySelector(".content"),await this.preloadData(),await this.buildHtml(),this.bindLinks(),bi.updateTitle("Chats")}async preloadData(){this.providers=await bi.fetch("/api/providers",{method:"GET"})}async buildHtml(){let e=await bi.fetch("/api/chats",{method:"GET"});console.log(e);let t="";t+="<h2>Chats</h2>",t+="<ul>",e.data.forEach(e=>{t+=`\n                <li style="display:inline;">\n                    <a href="/chats/${e.id}" class="chat-link">\n                        ${e.name}\n                    </a>\n                </li>\n            `}),t+="</ul>",t+='<div class="chat-content">...</div>',t+=`\n            <form\n                class="general-form"\n                method="post"\n                action="/api/chats/create"\n                data-target="/chats/%ID%"\n                data-clear-form\n        >\n                <input type="text" required="required" name="name" value="" placeholder="Name..." />\n                ${bi.buildSelect("provider_id",this.providers?.data)}\n                <textarea name="message" required="required" placeholder="Initial Message..."></textarea>\n                <button type="submit">Create</button>\n            </form>\n        `,this.$content.innerHTML=t,!1!==new RegExp(this.route+"/(.+)$").test(window.location.pathname)&&this.loadChatDetail()}bindLinks(){this.$content.querySelectorAll(".chat-link").forEach(e=>{e.addEventListener("click",async e=>{e.preventDefault(),bi.setUrl(e.target.closest(".chat-link").getAttribute("href")),this.loadChatDetail()})})}loadChatDetail(){(new _i).init()}}class ki{route="/tasks";async init(){this.$content=document.querySelector(".content"),await this.preloadData(),await this.buildHtml(),bi.updateTitle("Tasks")}async preloadData(){this.response=await bi.fetch("/api/tasks",{method:"GET"}),this.skills=await bi.fetch("/api/skills",{method:"GET"}),this.knowledge=await bi.fetch("/api/knowledge",{method:"GET"}),this.providers=await bi.fetch("/api/providers",{method:"GET"})}async buildHtml(){let e="";e+="<h2>Tasks</h2>",e+='<ul class="drag-and-drop-list">',this.response.data.forEach(t=>{e+="<li>",e+=`\n                <span class="drag-and-drop-list__handle">â˜°</span>\n\n                ${JSON.stringify(t)} -\n\n                <form\n                    class="general-form"\n                    method="post"\n                    action="/api/tasks/update"\n                >\n                    <input type="hidden" name="id" value="${t.id}" />\n                    <input type="text" readonly="readonly" required="required" name="order" value="${t.order}" placeholder="Order..." />\n\n                    <input type="text" required="required" name="name" value="${t.name}" placeholder="Name..." />\n                    <input type="text" required="required" name="schedule" value="${t.schedule}" placeholder="* * * * *" />\n                    <button type="submit">Update</button>\n                </form>\n\n                <form\n                    class="general-form"\n                    method="post"\n                    action="/api/tasks/delete"\n                >\n                    <input type="hidden" name="id" value="${t.id}" />\n                    <button class="delete">Delete</button>\n                </form>\n            `,e+="<h3>Skills</h3>",e+='<ul class="drag-and-drop-list">',t.tasks_skills.forEach(t=>{e+="<li>",e+=`\n                    <span class="drag-and-drop-list__handle">â˜°</span>\n\n                    ${JSON.stringify(t)} -\n\n                    <form\n                        class="general-form"\n                        method="post"\n                        action="/api/tasks-skills/update"\n                    >\n                        <input type="hidden" name="id" value="${t.id}" />\n                        <input type="text" readonly="readonly" required="required" name="order" value="${t.order}" placeholder="Order..." />\n\n                        <input type="text" readonly="readonly" required="required" name="task_id" value="${t.task_id}" />\n                        ${bi.buildSelect("skill_id",this.skills?.data?.mcpServers,t.skill_id)}\n                        <button type="submit">Update</button>\n                    </form>\n\n                    <form\n                        class="general-form"\n                        method="post"\n                        action="/api/tasks-skills/delete"\n                    >\n                        <input type="hidden" name="id" value="${t.id}" />\n                        <button class="delete">Delete</button>\n                    </form>\n                `,e+="</li>"}),e+="</ul>",e+="<h3>Neuen Skill anlegen</h3>",e+=`\n                <form\n                    class="general-form"\n                    method="post"\n                    action="/api/tasks-skills/create"\n                    data-clear-form\n                >\n                    <input type="text" readonly="readonly" required="required" name="task_id" value="${t.id}" />\n                    ${bi.buildSelect("skill_id",this.skills?.data?.mcpServers)}\n                    <button type="submit">Create</button>\n                </form>\n            `,e+="<h3>Knowledge</h3>",e+='<ul class="drag-and-drop-list">',t.tasks_knowledge.forEach(t=>{e+="<li>",e+=`\n                    <span class="drag-and-drop-list__handle">â˜°</span>\n\n                    ${JSON.stringify(t)} -\n\n                    <form\n                        class="general-form"\n                        method="post"\n                        action="/api/tasks-knowledge/update"\n                    >\n                        <input type="hidden" name="id" value="${t.id}" />\n                        <input type="text" readonly="readonly" required="required" name="order" value="${t.order}" placeholder="Order..." />\n\n                        <input type="text" readonly="readonly" required="required" name="task_id" value="${t.task_id}" />\n                        ${bi.buildSelect("knowledge_id",this.knowledge?.data,t.knowledge_id)}\n                        <button type="submit">Update</button>\n                    </form>\n\n                    <form\n                        class="general-form"\n                        method="post"\n                        action="/api/tasks-knowledge/delete"\n                    >\n                        <input type="hidden" name="id" value="${t.id}" />\n                        <button class="delete">Delete</button>\n                    </form>\n                `,e+="</li>"}),e+="</ul>",e+="<h3>Neuen Knowledge anlegen</h3>",e+=`\n                <form\n                    class="general-form"\n                    method="post"\n                    action="/api/tasks-knowledge/create"\n                    data-clear-form\n                >\n                    <input type="text" readonly="readonly" required="required" name="task_id" value="${t.id}" />\n                    ${bi.buildSelect("knowledge_id",this.knowledge?.data)}\n                    <button type="submit">Create</button>\n                </form>\n            `,e+="<h3>Providers</h3>",e+='<ul class="drag-and-drop-list">',t.tasks_providers.forEach(t=>{e+="<li>",e+=`\n                    <span class="drag-and-drop-list__handle">â˜°</span>\n\n                    ${JSON.stringify(t)} -\n\n                    <form\n                        class="general-form"\n                        method="post"\n                        action="/api/tasks-providers/update"\n                    >\n                        <input type="hidden" name="id" value="${t.id}" />\n                        <input type="text" readonly="readonly" required="required" name="order" value="${t.order}" placeholder="Order..." />\n\n                        <input type="text" readonly="readonly" required="required" name="task_id" value="${t.task_id}" />\n                        ${bi.buildSelect("provider_id",this.providers?.data,t.provider_id)}\n                        <button type="submit">Update</button>\n                    </form>\n\n                    <form\n                        class="general-form"\n                        method="post"\n                        action="/api/tasks-providers/delete"\n                    >\n                        <input type="hidden" name="id" value="${t.id}" />\n                        <button class="delete">Delete</button>\n                    </form>\n                `,e+="</li>"}),e+="</ul>",e+="<h3>Neuen Provider anlegen</h3>",e+=`\n                <form\n                    class="general-form"\n                    method="post"\n                    action="/api/tasks-providers/create"\n                    data-clear-form\n                >\n                    <input type="text" readonly="readonly" required="required" name="task_id" value="${t.id}" />\n                    ${bi.buildSelect("provider_id",this.providers?.data)}\n                    <button type="submit">Create</button>\n                </form>\n            `,e+="</li>"}),e+="</ul>",e+="<h3>Neuen Task anlegen</h3>",e+='\n            <form\n                class="general-form"\n                method="post"\n                action="/api/tasks/create"\n                data-clear-form\n            >\n                <input type="text" required="required" name="name" value="" placeholder="Name..." />\n                <input type="text" required="required" name="schedule" value="" placeholder="* * * * *" />\n                <button type="submit">Create</button>\n            </form>\n        ',this.$content.innerHTML=e}}class Ei{route="/knowledge";async init(){this.$content=document.querySelector(".content"),await this.preloadData(),await this.buildHtml(),bi.updateTitle("Knowledge")}async preloadData(){this.response=await bi.fetch("/api/knowledge",{method:"GET"})}async buildHtml(){let e="";e+="<h2>Knowledge</h2>",e+='<ul class="drag-and-drop-list">',this.response.data.forEach(t=>{e+=`\n                <li>\n                    <span class="drag-and-drop-list__handle">â˜°</span>\n\n                    ${JSON.stringify(t)} -\n\n                    <form\n                        class="general-form"\n                        method="post"\n                        action="/api/knowledge/update"\n                    >\n                        <input type="hidden" name="id" value="${t.id}" />\n                        <input type="text" readonly="readonly" required="required" name="order" value="${t.order}" placeholder="Order..." />\n\n                        <input type="text" required="required" name="name" value="${t.name}" placeholder="Name..." />\n                        <textarea name="content" required="required" placeholder="Content...">${t.content}</textarea>\n                        <button type="submit">Update</button>\n                    </form>\n\n                    <form\n                        class="general-form"\n                        method="post"\n                        action="/api/knowledge/delete"\n                    >\n                        <input type="hidden" name="id" value="${t.id}" />\n                        <button class="delete">Delete</button>\n                    </form>\n                </li>\n            `}),e+="</ul>",e+="<h3>Neuen Wissenseintrag anlegen</h3>",e+='\n            <form\n                class="general-form"\n                method="post"\n                action="/api/knowledge/create"\n                data-clear-form\n            >\n                <input type="text" required="required" name="name" value="" placeholder="Name..." />\n                <textarea name="content" required="required" placeholder="Content..."></textarea>\n                <button type="submit">Create</button>\n            </form>\n        ',this.$content.innerHTML=e}}class Ti{route="/providers";async init(){this.$content=document.querySelector(".content"),await this.preloadData(),await this.buildHtml(),bi.updateTitle("Providers")}async preloadData(){this.response=await bi.fetch("/api/providers",{method:"GET"})}async buildHtml(){let e="";e+="<h2>Providers</h2>",e+="<ul>",this.response.data.forEach(t=>{e+=`\n                <li>\n                    ${JSON.stringify(t)} -\n\n                    <form\n                        class="general-form"\n                        method="post"\n                        action="/api/providers/update"\n                    >\n                        <input type="hidden" name="id" value="${t.id}" />\n                        <input type="text" required="required" name="name" value="${t.name}" placeholder="Name" />\n                        <select name="service" required="required">\n                            <option value="">Service</option>\n                            <option value="chatgpt" ${"chatgpt"===t.service?"selected":""}>ChatGPT</option>\n                            <option value="claude" ${"claude"===t.service?"selected":""}>Claude</option>\n                            <option value="google" ${"google"===t.service?"selected":""}>Gemini</option>\n                            <option value="grok" ${"grok"===t.service?"selected":""}>Grok</option>\n                            <option value="deepseek" ${"deepseek"===t.service?"selected":""}>DeepSeek</option>\n                        </select>\n                        <input type="text" required="required" name="api_key" value="${t.api_key}" placeholder="sk-..........." />\n                        <button type="submit">Update</button>\n                    </form>\n\n                    <form\n                        class="general-form"\n                        method="post"\n                        action="/api/providers/delete"\n                    >\n                        <input type="hidden" name="id" value="${t.id}" />\n                        <button class="delete">Delete</button>\n                    </form>\n                </li>\n            `}),e+="</ul>",e+="<h3>Neuen Anbieter anlegen</h3>",e+='\n            <form\n                class="general-form"\n                method="post"\n                action="/api/providers/create"\n                data-clear-form\n            >\n                <input type="text" required="required" name="name" value="" placeholder="Name" />\n                <select name="service" required="required">\n                    <option value="">Service</option>\n                    <option value="chatgpt">ChatGPT</option>\n                    <option value="claude">Claude</option>\n                    <option value="google">Gemini</option>\n                    <option value="grok">Grok</option>\n                    <option value="deepseek">DeepSeek</option>\n                </select>\n                <input type="text" required="required" name="api_key" value="" placeholder="sk-..........." />\n                <button type="submit">Create</button>\n            </form>\n        ',this.$content.innerHTML=e}}class Oi{route="/skills";async init(){this.$content=document.querySelector(".content"),await this.preloadData(),await this.buildHtml(),bi.updateTitle("Skills")}async preloadData(){this.response=await bi.fetch("/api/skills",{method:"GET"})}async buildHtml(){if(!1===this.response.success)return console.log(response),void(this.$content.innerHTML=this.response.public_message);let e="";e+="<ul>",this.response.data.mcpServers.forEach(t=>{e+=`\n                <li>\n                    ${t.name} - ${t.id} - ${t.type}\n                </li>\n            `}),e+="</ul>",this.$content.innerHTML=e}}const xi=new class{async ready(){this.bindGlobalEvents(),this.startApp()}async load(){}async startApp(){bi.updateTitle(""),await this.initLogin(),this.buildHtml(),await this.loadContent()}async initLogin(){document.querySelector("#app").innerHTML="",vi.api=new yi({auth_server:"/auth",auth_login:"email"}),await vi.api.login()}async loadContent(){document.querySelector(".content").innerHTML="...";for(let e of[wi,Si,ki,Ei,Ti,Oi]){let t=new e;if(!1!==new RegExp(t.route).test(window.location.pathname)){await t.init(),document.querySelector(".content").class=t;break}}}buildHtml(){document.querySelector("#app").innerHTML='\n            <div class="navigation">\n                <a href="/" class="nav-link">Home</a>\n                <a href="/chats" class="nav-link">Chats</a>\n                <a href="/tasks" class="nav-link">Tasks</a>\n                <a href="/knowledge" class="nav-link">Knowledge</a>\n                <a href="/providers" class="nav-link">Providers</a>\n                <a href="/skills" class="nav-link">Skills</a>\n                <a href="#" class="logout">Logout</a>\n            </div>\n            <div class="content">\n                ...\n            </div>\n        '}bindGlobalEvents(){this.bindBackForward(),this.bindNavigation(),this.bindLogout(),this.bindGeneralForm(),this.bindDragAndDrop()}bindBackForward(){window.addEventListener("popstate",()=>{this.loadContent()})}bindNavigation(){document.querySelector("#app").addEventListener("click",e=>{e.target.closest(".nav-link")&&(e.preventDefault(),bi.setUrl(e.target.closest(".nav-link").getAttribute("href")),this.loadContent())})}bindLogout(){document.querySelector("#app").addEventListener("click",async e=>{e.target.closest(".logout")&&(e.preventDefault(),await vi.api.logout(),document.querySelector("#app").innerHTML="",bi.setUrl("/"),this.startApp())})}bindGeneralForm(){document.querySelector("#app").addEventListener("submit",async e=>{if(e.target.closest(".general-form")){let t=e.target.closest(".general-form");e.preventDefault();let n=await bi.fetch(t.getAttribute("action"),{method:t.getAttribute("method"),body:new URLSearchParams(new FormData(t))});if(!0===n.success){if(t.hasAttribute("data-clear-form")&&t.reset(),t.hasAttribute("data-target")){let e=t.getAttribute("data-target");n?.data?.id&&(e=e.replace("%ID%",n.data.id)),bi.setUrl(e)}void 0!==e?.detail?.refresh&&!1===e?.detail?.refresh||await document.querySelector(".content").class.init()}else alert(n.public_message)}})}bindDragAndDrop(){let e=null;document.querySelector("#app").addEventListener("mousedown",e=>{if(e.target.closest(".drag-and-drop-list__handle")){let t=e.target.closest("li");t&&t.setAttribute("draggable","true")}}),document.querySelector("#app").addEventListener("mouseup",e=>{if(e.target.closest(".drag-and-drop-list__handle")){let t=e.target.closest("li");t&&t.setAttribute("draggable","false")}}),document.querySelector("#app").addEventListener("dragstart",t=>{let n=t.target.closest(".drag-and-drop-list li");n&&(e=n,n.classList.add("dragging"))}),document.querySelector("#app").addEventListener("dragend",t=>{let n=t.target.closest(".drag-and-drop-list li");n&&(e=null,n.classList.remove("dragging"),n.setAttribute("draggable","false"))}),document.querySelector("#app").addEventListener("dragover",t=>{let n=t.target.closest(".drag-and-drop-list");if(n&&e){if(e.parentElement!==n)return;t.preventDefault();let r=t.clientY,o=[...n.querySelectorAll(":scope > li:not(.dragging)")].reduce((e,t)=>{let n=t.getBoundingClientRect(),o=r-n.top-n.height/2;return o<0&&o>e.offset?{offset:o,element:t}:e},{offset:Number.NEGATIVE_INFINITY}).element;null==o?n.appendChild(e):n.insertBefore(e,o)}}),document.querySelector("#app").addEventListener("drop",e=>{let t=e.target.closest(".drag-and-drop-list");t&&(e.preventDefault(),t.querySelectorAll(":scope > li").forEach((e,t)=>{let n=e.querySelector('input[name="order"]'),r=e.querySelector("form");n&&(n.value=t+1),r&&r.dispatchEvent(new CustomEvent("submit",{bubbles:!0,detail:{refresh:!1}}))}))})}};document.addEventListener("DOMContentLoaded",()=>{xi.ready()}),window.addEventListener("load",()=>{xi.load()})}();